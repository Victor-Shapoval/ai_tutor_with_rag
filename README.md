# AI репетитор на базе телеграм бота
## Требования
- [python 3.12.9](https://www.python.org/downloads/release/python-3129/)
- [api_key Google AI Studio](https://aistudio.google.com/api-keys)
- [api_key Telegram](https://core.telegram.org/bots)

## Установка

Для работы AI репетитора необходимо установить зависимости из файла requirements.txt.
Команда для установки с помощью стандартного менеджера пакетов:

`pip install -r requirements.txt`

### Дополнительно

Возможнны ошибки при установки docling из-за несовместимости версий NumPy. 

Для устранения требуется:
- удалить текущий numpy `pip uninstall numpy`
- установить более старой версии `pip install numpy==1.26.4`

## Архитектура

Архитектура AI репетитор состоит из четырех свободно распростроняемых (open source) основных компонентов:
- [Telegram](https://github.com/aiogram/aiogram) - представляет собой библиотеку для работы telegram бота и предоставляет возможность пользователю взаимодействовать с бизнеслогикой AI репетитора
- [Gemini](https://google.github.io/adk-docs/) -  фреймворк Google Agent Development Kit (ADK), который позволяет строить агентные системы на базе LLM
- [Docling](https://github.com/docling-project/docling) - библиотека предоставляющая инструмент для обработки и парсинга различных форматов документов с целью подготовки их для использования в векторных БД
- [Chroma](https://github.com/chroma-core/chroma) - полнофункциональная база данных для поиска и извлечения информации, которая хранит векторные данные (embeddings) и позволяет реализовывать системы ИИ с механизмами Retrieval-Augmented Generation (RAG)

![Схема архитектуры](./_addons/Схема%20архитектуры.png)

## Описание

Проект представляет собой реализацию MVP AI-репетитора с применением механизма RAG.

UI основан на базе приложения Telegram, что позволяет использовать продукт в кросс платформенном формате, а так же иметь доступ к нему в любой момент времени. Инициализация векторной базы и добавление материалов может осуществляться также через интерефейс бота и ограничено идентификаторами пользователей телеграм для безопасного администрирования ограниченным кругом лиц.

В качестве ядра AI репетитора используется LLM Gemeni 2.5 Flash. Эта модель  разработана Google специально для скорости и эффективности при сохранении высокой производительности. В проекте реализовано кэширование контекста в оперативной памяти для поддержания диалога с пользователем. Для дальнейшего масштабирвоания проекта процесс кэширование имеет готовую возможность в инструментарии Google ADK для переноса в реляционную базу данных.

Проект включает в себя модуль на базе библиотеки Docling для обработки и конвертации pdf, docx, exel документов в .md формат для их дальнейшего использования в векторной базе данных.

Материалы выбранные для текущего проекта представленны электроэнергетической отраслью и включают в себя мануалы, стандарты, книги и методические материалы. Однако работа AI-репетитора не ограничена одним отраслевым направлением и может быть легко изменена путем добавления собственных, необходимых материалов, что позволяет адаптировать проект под любую тему.

Хранение конвертированых и предобработанных материалов (в embedding формате) осуществялется в векторной базе данных на основе библиотеки Chroma.

## Взаимодействие

Взаимодействие с AI-репетитором осуществялется с помощью команд

> /start - запуск бота

> /download_pdf - загрузка документа для обновления векторной базы*

> /update_db - инициализация векторной базы*

> /self_check_on - включить режим самопроверки

> /self_check_off - отключить режим самопроверки

`*` - необходимы права адиминстратора

## Презентационные материалы
Презентация и текст к ней расположены в папке [_addons](./_addons)
